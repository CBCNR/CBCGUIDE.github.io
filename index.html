<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State & Insurance Settlement Funding Info - CBC Settlement Funding</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        select, input, textarea { margin: 10px; padding: 5px; display: block; }
        #info, #courtTable { margin-top: 20px; border: 1px solid #ccc; padding: 10px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; cursor: pointer; }
        th { background-color: #f2f2f2; }
        .hidden { display: none; }
        .easy { background-color: #d4edda; }
        .medium { background-color: #fff3cd; }
        .hard { background-color: #f8d7da; }
        .high { color: green; font-weight: bold; }
        .medium-rate { color: orange; font-weight: bold; }
        .low { color: red; font-weight: bold; }
        #summary { margin-bottom: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>State & Insurance Settlement Funding Info - CBC Settlement Funding</h1>

    <h2>State & Insurance Search</h2>
    <label for="state">Select State:</label>
    <select id="state">
        <option value="">--Choose State--</option>
    </select>

    <label for="insurance">Select Insurance Company:</label>
    <select id="insurance">
        <option value="">--Choose Insurance--</option>
    </select>

    <button onclick="displayInfo()">Search</button>

    <div id="info"></div>

    <h2>Court Guide (Timelines, Judges, Feedback)</h2>
    <p>Filter by state using the dropdown below. Data from your 2018-2025 records.</p>

    <div id="summary"></div>

    <label for="stateFilter">Filter by State:</label>
    <select id="stateFilter" onchange="populateStateFilter()">
        <option value="all">All States</option>
    </select>

    <table id="courtTable">
        <thead>
            <tr>
                <th onclick="sortTable(0)">Jurisdiction</th>
                <th onclick="sortTable(1)">Judge</th>
                <th onclick="sortTable(2)">Avg Time to Court Date</th>
                <th onclick="sortTable(3)">Avg Future Offset</th>
                <th onclick="sortTable(4)">Difficulty</th>
                <th onclick="sortTable(5)">Approval Rate</th>
                <th onclick="sortTable(6)">Total Cases</th>
                <th onclick="sortTable(7)">Denial/Dismissal Notes</th>
                <th onclick="sortTable(8)">Attorney-Client-IPA Info</th>
            </tr>
        </thead>
        <tbody id="courtBody"></tbody>
    </table>

    <button onclick="exportCSV()">Export Table as CSV</button>

    <h2>Add New Info</h2>
    <form id="addForm">
        <label for="type">Type:</label>
        <select id="type" onchange="toggleCourtFields()">
            <option value="state">State</option>
            <option value="insurance">Insurance</option>
            <option value="court">Court Guide</option>
        </select>

        <label for="name">Name (State/Insurance/Judge):</label>
        <input type="text" id="name"><br>

        <label for="jurisdiction" class="courtField hidden">Jurisdiction (e.g., State/County):</label>
        <input type="text" id="jurisdiction" class="courtField hidden"><br>

        <label for="avgTimeToDate" class="courtField hidden">Avg Time to Get Court Date:</label>
        <input type="text" id="avgTimeToDate" class="courtField hidden"><br>

        <label for="avgFutureOffset" class="courtField hidden">Avg Future Court Date Offset:</label>
        <input type="text" id="avgFutureOffset" class="courtField hidden"><br>

        <label for="difficulty" class="courtField hidden">Judge Difficulty:</label>
        <input type="text" id="difficulty" class="courtField hidden"><br>

        <label for="approvalRate" class="courtField hidden">Approval Rate:</label>
        <input type="text" id="approvalRate" class="courtField hidden"><br>

        <label for="totalCases" class="courtField hidden">Total Cases:</label>
        <input type="number" id="totalCases" class="courtField hidden"><br>

        <label for="denialNotes" class="courtField hidden">Denial/Dismissal Notes:</label>
        <textarea id="denialNotes" class="courtField hidden"></textarea><br>

        <label for="ipaInfo" class="courtField hidden">Attorney-Client-IPA Info:</label>
        <textarea id="ipaInfo" class="courtField hidden"></textarea><br>

        <label for="details">General Details (for State/Insurance):</label>
        <textarea id="details"></textarea><br>

        <button type="button" onclick="addInfo()">Add</button>
    </form>

    <script>
        let data = {
            states: {
                "California": "Settlement funding in California typically requires court approval and can take 4-6 weeks. Interest rates average 2-3% monthly.",
                "New York": "New York has strict usury laws; funding caps at 40% APR. Average approval time: 2-4 weeks.",
                "Texas": "Texas allows non-recourse funding; no repayment if case lost. Processing time: 3-5 weeks."
            },
            insurances: {
                "Allstate": "Allstate settlements often involve structured annuities; funding available up to 50% of expected value.",
                "State Farm": "State Farm prefers quick settlements; funding companies report 70% approval rate for auto claims.",
                "Geico": "Geico cases fund faster for personal injury; average advance: $10k-50k."
            },
            courtGuide: [
                // --- Existing entries remain here (unchanged) ---
                // ... [keep all your existing courtGuide objects above]

                // --- New hard 0% entries from your provided screenshot ---
                {
                    jurisdiction: "Allegheny County Courthouse, PA",
                    judge: "John T. McVay, JR",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "Prior transfers, docs issues, unlikely future approvals",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "New York County Courthouse, NY",
                    judge: "Jennifer G. Schecter",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 3,
                    denialNotes: "Multiple denials",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "Monroe County Courthouse, NY",
                    judge: "John Gallagher",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "Financial stability cited",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "Imperial County Courthouse, CA",
                    judge: "L. Brooks Anderholt",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "BHG objections",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "King County Courthouse, WA",
                    judge: "Regina Cahan",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "Dismissals",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "Orange County Courthouse, FL",
                    judge: "A. James Craner / Donald A. Myers",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "Dismissals",
                    ipaInfo: ""
                },
                {
                    jurisdiction: "Lehigh County Courthouse, PA",
                    judge: "Brian Johnson / Michele A. Varricchio",
                    avgTimeToDate: "Unknown",
                    avgFutureOffset: "Unknown",
                    difficulty: "Hard",
                    approvalRate: "0%",
                    totalCases: 2,
                    denialNotes: "Dismissals",
                    ipaInfo: ""
                }
            ]
        }

        // Continue your existing JavaScript functions as before:
        // (displayInfo, populateStateFilter, sortTable, addInfo, exportCSV, etc.)
        // Nothing else is removed or altered.

    </script>
</body>
</html>
